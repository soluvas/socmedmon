{"version":3,"sources":["controllers.ts"],"names":[],"mappings":"AAAA,6CAA6C;AAC7C,mCAAmC;AACnC,gHAAgH;AAChH,+DAA+D;AAC/D,mBAAmB;AAEnB,OAAO,CAAC,MAAM,CAAC,qBAAqB,EAAE,EAAE,CAAC;KACxC,UAAU,CAAC,eAAe,EAAE,UAAS,MAAiB,EAAE,IAAoB,EAAE,OAA0B,EACrG,QAA4B,EAAE,SAAS,EAAE,KAAK;IAE9C,MAAM,CAAC,MAAM,GAAG,4BAA4B,CAAC;IAE7C,MAAM,CAAC,oBAAoB,GAAG;QAC1B,IAAI,WAAW,GAAG,SAAS,CAAC,MAAM,CAAC,MAAM,GAAG,mBAAmB,CAAC,CAAC;QACjE,WAAW,CAAC,GAAG,CAAC,EAAC,IAAI,EAAE,CAAC,kBAAkB,EAAE,4BAA4B,CAAC,EAAE,IAAI,EAAE,GAAG,EAAC,EAAE,UAAS,IAAI;YAChG,IAAI,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC;YACjD,MAAM,CAAC,aAAa,GAAG,aAAa,CAAC;YACrC,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,aAAa,CAAC,CAAC;YAC5C,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC;QACvE,CAAC,CAAC,CAAC;IACP,CAAC,CAAC;IAEF,KAAK,CAAC,GAAG,CAAC,kBAAkB,EAAE,EAAC,YAAY,EAAE,MAAM,EAAC,CAAC,CAAC,IAAI,CAAC,UAAS,IAAI;QACpE,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;QACjC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;QACnD,MAAM,CAAC,oBAAoB,EAAE,CAAC;IAClC,CAAC,EAAE,MAAM,CAAC,oBAAoB,CAAC,CAAC;AAEpC,CAAC,CAAC,CACD","file":"controllers.js","sourcesContent":["/// <reference path=\"../typings/index.d.ts\"/>\r\n/// <reference path=\"services.ts\"/>\r\n//import {Page, NavController, NavParams, IonicApp, Content, Alert, Modal, ViewController} from 'ionic-angular';\r\n//import {Http, Headers, URLSearchParams} from 'angular2/http';\r\n//import 'rxjs/Rx';\r\n\r\nangular.module('starter.controllers', [])\r\n.controller('DashboardCtrl', function($scope: ng.IScope, $log: ng.ILogService, $window: ng.IWindowService,\r\n    $timeout: ng.ITimeoutService, $resource, $http) {\r\n\r\n    $scope.apiUri = 'http://localhost:8080/api/';\r\n\r\n    $scope.refreshSiteSummaries = function() {\r\n        var SiteSummary = $resource($scope.apiUri + 'siteSummaries/:id');\r\n        SiteSummary.get({sort: ['watchedSite.name', 'watchedSite.siteScreenName'], size: 100}, function(resp) {\r\n            var siteSummaries = resp._embedded.siteSummaries;\r\n            $scope.siteSummaries = siteSummaries;\r\n            $log.info('Site summaries:', siteSummaries);\r\n            $scope.updateTime = Date.create(siteSummaries[0].modificationTime);\r\n        });\r\n    };\r\n\r\n    $http.get('/api/config.json', {responseType: 'json'}).then(function(resp) {\r\n        $scope.apiUri = resp.data.apiUri;\r\n        $log.info('apiUri =', $scope.apiUri, 'from', resp);\r\n        $scope.refreshSiteSummaries();\r\n    }, $scope.refreshSiteSummaries);\r\n\r\n})\r\n;\r\n"],"sourceRoot":"/source/"}